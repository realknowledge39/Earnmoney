<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Watch & Earn</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 text-gray-900">
  <header class="flex justify-between items-center px-6 py-4 bg-white shadow-md">
    <h1 class="text-2xl font-bold text-blue-600">Watch & Earn</h1>
    <div class="flex items-center space-x-4">
      <div class="bg-green-100 text-green-800 px-3 py-1 rounded shadow" id="wallet">Wallet: ₹0</div>
    </div>
  </header>

  <main class="flex flex-col items-center py-10">
    <iframe id="player" class="rounded shadow-lg" width="800" height="450" allow="autoplay" allowfullscreen></iframe>

    <div class="mt-6 flex space-x-4">
      <button onclick="playNextVideo(true)" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow">Next</button>
      <a href="https://www.youtube.com/channel/UC" target="_blank" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded shadow">Subscribe</a>
    </div>

    <div class="mt-10">
      <h2 class="text-xl font-semibold mb-2">Withdraw Earnings</h2>
      <input id="upi" type="text" placeholder="Enter UPI ID" class="border p-2 rounded w-64">
      <button onclick="withdrawCredits()" class="bg-green-600 text-white px-4 py-2 rounded ml-2 hover:bg-green-700">Withdraw</button>
      <p id="withdrawMsg" class="mt-3 text-sm text-gray-600"></p>
    </div>
  </main>

  <script>
    const videos = [
      "Ria5YlK2Afo",
      "aLFMkJaURUI",
      "hjGgK935eaA",
      "vr70Upcgl2k",
      "TbvZ7BfhKoE",
      "rdwoNFwkRF0",
      "BsyY02ioWrI",
      "xjxkMiK4igk",
      "8OEAtVMCJUU",
      "UYqnKDBvYFo"
    ];

    let current = 0;
    let credits = 0;
    let watching = false;
    const wallet = document.getElementById("wallet");
    const player = document.getElementById("player");

    function updateWallet() {
      wallet.textContent = `Wallet: ₹${credits}`;
    }

    function playNextVideo(skipped = false) {
      if (watching && !skipped) {
        credits += 2;
        updateWallet();
      }
      watching = true;
      const videoId = videos[current];
      player.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=1&rel=0`;
      current = (current + 1) % videos.length;
    }

    function withdrawCredits() {
      const upi = document.getElementById("upi").value;
      const msg = document.getElementById("withdrawMsg");

      if (!upi) {
        msg.textContent = "Please enter a valid UPI ID.";
        return;
      }

      if (credits < 1000) {
        msg.textContent = "You need at least ₹1000 (1000 credits) to withdraw.";
        return;
      }

      msg.textContent = `Withdrawal of ₹${credits} to UPI ID ${upi} initiated (simulated).`;
      credits = 0;
      updateWallet();
    }

    // Start the first video
    playNextVideo();
  </script>
</body>
</html>